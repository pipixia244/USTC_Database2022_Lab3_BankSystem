<!doctype html>
<html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>Sakuraの銀行</title>
      <link rel="stylesheet" href="../style.css">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"> -->
      <!-- <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script> -->
      <!-- <script src="https://code.jquery.com/jquery-3.3.1.js"></script> -->
      <!-- <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script> -->
      
	  <!-- <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
      <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
      <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
      <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </head>
    <body>

        <div class="wrapper">
            <header>
               <nav>
                  <div class="menu-icon">
                     <i class="fa fa-bars fa-2x"></i>
                  </div>
                  <div class="logo">
                     <a style="color: white;text-decoration:none;" href="/">Sakuraの銀行</a> 
                  </div>
                  <div class="menu">
                     <ul>
                        <li><a href="/user">用户</a></li>
                        <li><a style="text-decoration:none; color:black; border-width: 8px ; padding: 12px; text-align: center; background-color: rgba(231, 255, 10, 0.8);border-radius: 10px;" href="/client">客户</a></li>
                        <li><a href="/account">银行账户</a></li>
                        <li><a href="/department">Department</a></li>
                        <li><a href="/bank">银行</a></li>
                        <li><a href="/loan">贷款</a></li>
                        <li><a href="/employ">雇员</a></li>
                        <li><button class="btn btn-info"><a style="color:yellow" href="/login">登录</a></button></li>
                     </ul>
                  </div>
               </nav>
            </header>
           </div>
           <script>
                $(document).ready(function() {
                   $(".menu-icon").on("click", function() {
                         $("nav ul").toggleClass("showing");
                   });
             });
       
             // Scrolling Effect
               $('nav').addClass("black");
           </script>
        <div class="alert alert-info alert-dismissable" id="info1">
            <button type="button" class="close" data-dismiss="alert"
                    aria-hidden="true">
                &times;
            </button>
            状态码：<a id="StatusCode"></a>
        </div>
        <div class="alert alert-info alert-dismissable" id="info2">
            <button type="button" class="close" data-dismiss="alert"
                    aria-hidden="true">
                &times;
            </button>
            日志信息：<a id="ErrorLog"></a>
        </div>
        <div class="list_area"></div>
    <h2>创建模态框（Modal）</h2>
<!-- 按钮触发模态框 -->
<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
    添加
</button>
<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
    编辑
</button>
<!-- 模态框（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel">
                    模态框（Modal）标题
                </h4>
            </div>
            <form id="form_data">
            <div class="modal-body">
                user_id: <input type="text" id="user_id" name="user_id"/>
                name: <input type="text" id="user_name" name="user_name"/>
                <input type="hidden" id="act" value="add" name="act"/>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                </button>
                <button type="button" onclick="add_info()" class="btn btn-primary">
                    提交更改
                </button>
            </div>
            </form>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>



    <script type="text/javascript">
        $.ajax({
            url: "https://dbapi.srpr.cc/api/v1/get/list_client",
            type: "GET",
            dataType: "json",
            success: function(data) {
                console.log(JSON.stringify(data))
                // 显示在线离线人数
                $("#StatusCode").html(data.code);
                if(data.error == "")
                {
                    $("#ErrorLog").html("No error.");
                    $("#info1").css("class","alert-success");
                }
                else
                {
                    $("#ErrorLog").html(data.error);
                }

                // 各部门人数显示
                var data_list = data.client_list;
                console.log(data_list);
                var html = '<table class="table table-bordered table-hover"><thead><tr><th>客户ID</th><th>客户姓名</th><th>客户电话</th><th>客户地址</th><th>联系人姓名</th><th>联系人邮箱</th><th>联系人电话</th><th>与联系人关系</th></tr></thead>';
                for(var client in data_list) {
                    html += '<tr><td>' + data_list[client]['Client_ID'] + '  </td><td>' +
                        data_list[client]['Client_Name'] + '  </td><td>' + data_list[client]['Client_Tel'] + '  </td><td>' + data_list[client]['Client_Address'] + '  </td><td>' + data_list[client]['Contact_Name'] + '  </td><td>' + data_list[client]['Contact_Email'] + '  </td><td>' + data_list[client]['Contact_Tel'] + '  </td><td>' + data_list[client]['Relation'] + '  </td></tr>'
                }
                html += '</table>'
                $(".list_area").append(html);
            }
        })
    </script>
    </body>
</html>